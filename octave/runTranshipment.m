%> \file
%> Run the transhipment problem
%> 
%> @ingroup Running
%> @author Michel Bierlaire
%> @date Sat Jul 19 09:37:07 2014

% Example from Ahuja et al. p. 348

#A = [ 0  0  0  1  0  0  0  0 ;
#      2  0  3  0  0  4  0  0 ; 
#      0  0  0  5  6  0  0  0 ;
#      0  0  0  0  0  0  7  0 ;
#      0  0  0  0  0  8  9  0 ;
#      0  0  0  0  0  0  0 10 ; 
#      0  0  0  0  0  0  0 11 ; 
#      0  0  0  0  0  0  0  0 ] ;

#cost = [  2 ;  1 ;  0 ;  6 ;  1 ;  4 ;  5 ;  2 ;  7 ;  8 ;  9 ] ;  
#lb =   [  0 ;  0 ;  0 ;  0 ;  0 ;  0 ;  0 ;  0 ;  0 ;  0 ;  0 ] ;
#ub =   [ 15 ; 10 ; 10 ; 10 ;  5 ; 10 ; 10 ; 20 ; 15 ; 10 ; 15 ] ;
#supply = [10 ; 20 ; 0 ; -5 ; 0 ; 0 ; -15 ; -10] ;

A = [0 1  0  0  0  0  0 0 ; 
     0 0  2  3  0  0  0 0 ;
     4 0  0  0  5  0  0 0 ;
     0 6  0  0  7  0  0 0 ;
     0 0  0  8  0  0  0 0 ;
     0 0  0  0  0  0  9 0 ; 
     0 0  0  0  0 10  0 0 ; 
     0 0  0  0  0  0  0 0 ] ;

cost = [1 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1];
lb = [ -1.1 ; -2.2 ; -3.3 ; -4.5 ; -5.5 ; -6.6 ; -7.7 ; -8.8 ; -9.9 ; -10 ] ;
ub = [  2.5 ;  2.5 ;  3.5 ;  4.5 ;  5.5 ;  6.5 ;  7.5 ;  8.5 ;  9.5 ;  10.5 ] ;

supply = [ -1.7 ; -8.4 ; 5 ; 5.1 ; 0 ; 0.5 ; -0.5 ; 0 ] ;

#A = [0 1 ; 0 0] ;Tr
#cost = [1] ;
#lb = [-5] ;
#ub = [5];
#supply = [3 ; -3] ;

[x,copt] = aTranshipment(A,cost,lb,ub,supply)  

#glpk(tcost,incidenceMatrix,tsupply)

